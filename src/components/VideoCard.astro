---
export type VideoCardProps = {
	title: string;
	duration?: string;
	difficulty?: number;
	pillar?: string;
	tags?: string[];
	href?: string;
	thumbnailUrl?: string;
};

const {
	title,
	duration = '18m',
	difficulty = 3,
	pillar = 'Body',
	tags = ['Sleep', 'Protocol'],
	href = '#',
	thumbnailUrl,
} = Astro.props as VideoCardProps;
---

<a
	href={href}
	class="group relative block w-[220px] shrink-0 overflow-hidden rounded-2xl border border-white/10 bg-panel transition will-change-transform hover:-translate-y-1 hover:scale-[1.015] hover:border-white/20 hover:shadow-cinematic"
>
	<div class="relative aspect-video w-full overflow-hidden bg-black">
		{thumbnailUrl ? (
			<img
				class="h-full w-full object-cover opacity-90 transition group-hover:opacity-100"
				src={thumbnailUrl}
				alt={title}
				loading="lazy"
			/>
		) : (
			<div class="h-full w-full bg-gradient-to-br from-white/10 to-transparent" />
		)}
		<div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent" />
		<div class="absolute bottom-2 left-2 rounded-full bg-black/60 px-2 py-1 text-xs text-text-muted backdrop-blur">
			{duration}
		</div>
	</div>

	<div class="space-y-2 p-3">
		<div class="line-clamp-2 text-sm font-medium leading-snug text-text">{title}</div>

		<div class="flex flex-wrap items-center gap-2 text-xs text-text-muted">
			<span class="rounded-full border border-white/10 bg-black/20 px-2 py-1">{pillar}</span>
			<span class="rounded-full border border-white/10 bg-black/20 px-2 py-1">Difficulty {difficulty}</span>
		</div>

		<div class="flex flex-wrap gap-2">
			{tags.slice(0, 2).map((t) => (
				<span class="rounded-full bg-white/5 px-2 py-1 text-xs text-text-muted">{t}</span>
			))}
		</div>
	</div>

	<div class="pointer-events-none absolute inset-0 opacity-0 transition group-hover:opacity-100">
		<div class="absolute right-3 top-3 flex gap-2">
			<span class="rounded-full bg-black/60 px-3 py-1 text-xs text-text">Save</span>
			<span class="rounded-full bg-black/60 px-3 py-1 text-xs text-text">+ Playlist</span>
		</div>
	</div>
</a>
