---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('inner-space', ({ data }) => !data.draft))
	.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Inner Space Journey — bechtold.co">
	<section class="mx-auto max-w-4xl px-4 py-10">
		<header class="max-w-2xl">
			<h1 class="font-display text-3xl tracking-tight text-text">Inner Space Journey</h1>
			<p class="mt-3 text-text-muted">
				A series of short, lived-experience notes: one idea, one practice. Philosophical without being pretentious.
			</p>
		</header>

		<div class="mt-10 grid gap-5">
			{posts.map((post) => (
				<article class="rounded-3xl border border-white/10 bg-panel p-6">
					<div class="flex flex-col gap-2">
						<div class="text-xs uppercase tracking-wide text-text-muted">
							{post.data.id} · {post.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}
						</div>
						<h2 class="text-xl font-semibold text-text">
							<a class="hover:underline" href={`/inner-space/${post.slug}`}>{post.data.title}</a>
						</h2>
						{post.data.subtitle && <div class="text-sm text-text-muted">{post.data.subtitle}</div>}
						<p class="mt-2 text-sm text-text-muted">{post.data.excerpt}</p>
						<div class="mt-4 flex flex-wrap gap-2">
							{post.data.tags.map((t) => (
								<span class="rounded-full border border-white/10 bg-black/20 px-3 py-1 text-xs text-text-muted">{t}</span>
							))}
						</div>
					</div>
				</article>
			))}
		</div>
	</section>
</Layout>
