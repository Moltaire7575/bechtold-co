---
const { currentPath = Astro.url.pathname } = Astro.props;

const links = [
  { href: '/events', label: 'Events' },
  { href: '/library', label: 'Library' },
  { href: '/inner-space', label: 'Inner Space' },
  { href: '/research', label: 'Research' },
  { href: '/coaching', label: 'Coaching' },
  { href: '/about', label: 'About' },
];

function isActive(href) {
  if (href === '/') return currentPath === '/';
  return currentPath === href || currentPath.startsWith(href + '/');
}
---
<header class="sticky top-0 z-50 border-b border-white/10 bg-black/55 backdrop-blur">
  <div class="mx-auto flex max-w-6xl items-center justify-between gap-4 px-5 py-3">
    <a href="/" class="flex items-baseline gap-2 no-underline">
      <span class="text-[11px] font-semibold uppercase tracking-[0.18em] text-white/90">Steve Bechtold</span>
      <span class="text-[12px] text-white/50">Library</span>
    </a>

    <nav aria-label="Primary" class="hidden md:block">
      <ul class="m-0 flex list-none flex-wrap gap-2 p-0">
        {links.map((l) => (
          <li>
            <a
              href={l.href}
              class:list={[
                "rounded-full px-3 py-1.5 text-sm no-underline transition",
                "border border-transparent text-white/70 hover:border-white/15 hover:bg-white/5 hover:text-white",
                isActive(l.href) && "border-white/15 bg-white/10 text-white"
              ]}
            >
              {l.label}
            </a>
          </li>
        ))}
      </ul>
    </nav>

    <a
      href="/library"
      class="rounded-full border border-white/15 bg-white/10 px-3 py-1.5 text-sm text-white no-underline hover:bg-white/15"
    >
      Browse
    </a>
  </div>
</header>
